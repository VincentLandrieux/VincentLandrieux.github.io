(()=>{var v=document.querySelector(".projets"),S=document.querySelector(".projets_nav"),E=()=>new Promise((e,n)=>{let t=new XMLHttpRequest,a="./projets.json";try{t.addEventListener("load",()=>{JSON.parse(t.response).categories.forEach(o=>{j(o.name,o.ref),y(o),e()})}),t.open("GET",a),t.send()}catch(s){console.error(s),n()}});function j(e,n){let t=document.createElement("a");t.classList.add("projets_nav_link"),t.href="#"+n,t.innerHTML=e,S.appendChild(t)}function y(e){let n=document.createElement("div");n.classList.add("projets_category");let t=document.createElement("div");t.id=e.ref,t.classList.add("flag"),n.appendChild(t);let a=document.createElement("p");a.classList.add("projets_category_name"),a.innerHTML=e.name,n.appendChild(a);let s=document.createElement("p");s.classList.add("projets_category_nb"),s.innerHTML="0"+e.projects.length,n.appendChild(s),v.appendChild(n);let o=document.createElement("div");o.classList.add("projets_container"),e.projects.forEach(r=>{let c=document.createElement("a");c.classList.add("projets_card"),c.href=r.link_url,c.style.backgroundImage="url('"+r.img_url+"')";let l=document.createElement("p");l.classList.add("projets_card_title"),l.innerHTML=r.name,c.appendChild(l),c.setAttribute("data-link-out",!0),o.appendChild(c)}),v.appendChild(o)}var i=!1,h=()=>{let e=document.querySelector(".nav-bar_menu"),n=document.querySelector(".nav-menu"),t=document.querySelectorAll(".nav-menu_link"),a=document.querySelectorAll(".nav-bar_link");e.addEventListener("click",()=>{e.classList.toggle("opened"),n.classList.toggle("opened"),i=!i}),t.forEach(s=>{s.addEventListener("click",o=>{t.forEach(r=>{r.classList.remove("select")}),o.target.classList.add("select"),e.classList.toggle("opened"),n.classList.toggle("opened"),i=!i})}),a.forEach(s=>{s.addEventListener("click",o=>{a.forEach(r=>{r.classList.remove("select")}),o.target.classList.add("select")})})},m=document.querySelector(".nav-bar"),g=0,d=0,u=!1;function w(e){let n=window.innerHeight/2,t=e-g;i?m.classList.remove("hidden"):Math.abs(t)>16&&(t>0&&!(e<=n)?m.classList.add("hidden"):m.classList.remove("hidden"))}window.addEventListener("scroll",function(e){d=window.pageYOffset||document.documentElement.scrollTop,u||window.requestAnimationFrame(function(){w(d),g=d<=0?0:d,u=!1}),u=!0});var b=1200,q=600,_=20,C=[{transform:"translateY(80%)",opacity:0},{opacity:.2},{transform:"translateY(0px)",opacity:1}],M={direction:"alternate",duration:q,delay:_,easing:"cubic-bezier(0.33, 1, 0.68, 1)",fill:"forwards"},k=()=>{let e=[],n=document.querySelectorAll("[data-splitting]");for(let t of n){t.classList.add("split-container");let a=t.innerText.split(" ");t.innerText="";for(let s in a){let o=a[s],r=I(),c=o.split("");for(let l of c){let L=x(l);r.appendChild(L),e.push(L)}s!=a.length-1&&r.appendChild(A()),t.appendChild(r)}}setTimeout(t=>{for(let a in t){let s={...M};s.delay=_*a,t[a].animate(C,s)}},b,e)};function x(e){let n=document.createElement("span");return n.classList.add("split_letter"),n.innerText=e,n}function A(){let e=document.createElement("span");return e.classList.add("split_whitespace"),e.innerHTML="&nbsp;",e}function I(){let e=document.createElement("span");return e.classList.add("split_word"),e}var N=1e3,p=document.querySelector(".board-transition"),f=()=>{let e=document.querySelectorAll("[data-link-out]");for(let n of e)n.addEventListener("click",T)};function T(e){e.preventDefault(),p.classList.remove("animate_enter"),p.classList.add("animate_leave"),e.target.removeEventListener("click",T),setTimeout(n=>{p.classList.remove("animate_leave"),p.classList.add("animate_enter"),n.target.click()},N,e)}h();E().then(()=>{f()}).catch(()=>{f()});k();})();
//# sourceMappingURL=script.js.map
